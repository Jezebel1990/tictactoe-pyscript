<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Jogo da Velha</title>

    <!-- PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/snapshots/2024.9.2/core.css" />
    <script type="module" src="https://pyscript.net/snapshots/2024.9.2/core.js"></script>

    <!-- Fontes e estilos personalizados -->
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/tictactoe.css" />
    <link rel="stylesheet" href="./assets/css/page.css" />

    <style>
      #loading {
        outline: none;
        border: none;
        background: transparent;
      }
    </style>

    <script type="module">
      const loading = document.getElementById("loading");
      addEventListener("py:ready", () => loading.close());
      loading.showModal();
    </script>
  </head>

  <body>
  <div class="page-container">
    <dialog id="loading">
      <h1>Carregando...</h1>
    </dialog>

    <nav class="navbar" style="background-color: #000000">
      <div class="app-header">
        <a href="/">
          <img src="./assets/logo.png" class="logo" />
        </a>
        <a class="title" href="#" style="color: #f0ab3c">Tic Tac Toe</a>
      </div>
    </nav>

    <main>
    <section class="pyscript">
      <h1>Jogo da Velha</h1>

      <table id="board">
        <tr>
          <td><div id="cell00" data-x="0" data-y="0" class="cell" py-click="GAME.click"></div></td>
          <td><div id="cell01" data-x="0" data-y="1" class="cell" py-click="GAME.click"></div></td>
          <td><div id="cell02" data-x="0" data-y="2" class="cell" py-click="GAME.click"></div></td>
          
        </tr>
        <tr>
          <td><div id="cell10" data-x="1" data-y="0" class="cell" py-click="GAME.click"></div></td>
          <td><div id="cell11" data-x="1" data-y="1" class="cell" py-click="GAME.click"></div></td>
          <td><div id="cell12" data-x="1" data-y="2" class="cell" py-click="GAME.click"></div></td>
        </tr>
        <tr>
          <td><div id="cell20" data-x="2" data-y="0" class="cell" py-click="GAME.click"></div></td>
          <td><div id="cell21" data-x="2" data-y="1" class="cell" py-click="GAME.click"></div></td>
          <td><div id="cell22" data-x="2" data-y="2" class="cell" py-click="GAME.click"></div></td>
        </tr>
      </table>

      <h2 id="status"></h2>
      <button id="btn-new-game" py-click="GAME.new_game">NOVO JOGO</button>

      <py-terminal></py-terminal>
      <script type="py" src="./main.py"></script>
    </section>
   </main>
      <!-- Rodapé -->
  <footer id="footer" class="footer">
  </footer>
 </div>
 
  <py-script>
    from js import document, Date

    ano_atual = Date.new().getFullYear()
    footer = document.getElementById("footer")

    link = document.createElement("a")
    link.href = "https://pyscript.net/"
    link.target = "_blank"
    link.textContent = "Feito com PyScript"

    footer.appendChild(link)
    footer.appendChild(document.createTextNode(f" por Jezebel Guedes – {ano_atual}"))
  </py-script>
  </body>
</html>
